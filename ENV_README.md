# 环境配置使用说明

本项目使用环境变量文件（.env）来管理不同环境的配置。为了简化开发和部署流程，我们提供了以下几个批处理脚本。

## 环境文件

- `.env` - 当前活动的环境配置
- `.env.template` - 环境变量模板，用于创建新的环境配置
- `.env.example` - 环境变量示例，包含示例值
- `.env.test` - 测试环境配置
- `.env.production` - 生产环境配置

## 批处理脚本

### 1. 环境切换工具 (switch_env.bat)

此脚本允许您在开发、测试和生产环境之间快速切换。

使用方法：
```
switch_env.bat
```
然后按照提示选择要切换的环境。

### 2. 开发环境启动脚本 (start_dev.bat)

此脚本会使用开发环境配置启动应用程序。

使用方法：
```
start_dev.bat
```

### 3. 生产环境启动脚本 (start_prod.bat)

此脚本会临时切换到生产环境配置，启动应用程序，然后在应用程序关闭后恢复原来的环境配置。

使用方法：
```
start_prod.bat
```

### 4. Windows服务安装脚本 (install_service.bat)

此脚本可以将应用程序安装为Windows服务，以便在生产环境中自动启动。

前提条件：
- 需要安装NSSM (Non-Sucking Service Manager)，下载地址：https://nssm.cc/download
- 需要以管理员权限运行此脚本

使用方法：
```
install_service.bat
```
然后按照提示输入服务名称、显示名称和服务描述。

## 注意事项

1. **敏感信息保护**：
   - 所有包含敏感信息的环境文件（.env, .env.test, .env.production）都不应提交到版本控制系统
   - 这些文件已经在 .gitignore 中被排除

2. **环境文件备份**：
   - 建议定期备份您的环境文件，特别是生产环境配置
   - 可以将备份存储在安全的位置，如加密U盘或密码管理器

3. **服务管理**：
   - 安装为Windows服务后，可以通过Windows服务管理器（services.msc）管理服务
   - 服务日志将保存在 logs 目录中

4. **环境变量更新**：
   - 如果需要添加新的环境变量，请同时更新所有环境文件
   - 同时更新 .env.template 和 .env.example 文件，以便其他开发人员了解新的环境变量
